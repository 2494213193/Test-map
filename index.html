<!DOCTYPE html>
<html>
<head>
	<style>
#map-canvas {
	width: 600px ;
	height: 600px ;
}
	</style>
</head>
<body>
	<div id="map-canvas"></div>
	<p><textarea id="count">0</textarea></p>
	<p><textarea id="argument"></textarea></p>

	<script src="//maps.googleapis.com/maps/api/js?key={APIキー}"></script>
	<script>
var mapDiv = document.getElementById( "map-canvas" ) ;
var countElement = document.getElementById( "count" ) ;
var argumentElement = document.getElementById( "argument" ) ;

// Map
var map = new google.maps.Map( mapDiv, {
	center: new google.maps.LatLng( 35, 139 ) ,
	zoom: 18 ,
} ) ;

// Marker
var marker = new google.maps.Marker( {
	map: map ,
	position: map.getCenter() ,
} ) ;

// Event
marker.addListener( "click", function ( argument ) {
	countElement.value = Number( countElement.value ) + 1 ;
	try{ argument = typeof argument == "object" ? JSON.stringify( argument ) : argument ; }catch(e){}
	argumentElement.value = argument ;
	console.log( argument ) ;
} ) ;
	</script>
</body>
</html>
